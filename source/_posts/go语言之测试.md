---
title: go语言之测试
tags:
  - go测试
categories:
  - go
date: 2024-10-30 11:58:35
---

go 语言中的测试依赖 `go test` 命令。

<!-- more -->

### go test

Go 语言中的测试依赖 `go test` 命令。

在包目录中，所有以 `_test.go` 为后缀名的源代码文件都是 `go test` 测试的一部分，不会被编译到最终的可执行文件中。

在 `*_test.go` 文件中有三种类型的函数，单元测试函数、基准函数和示例函数。

| 类型     | 格式                   | 作用                           |
| -------- | ---------------------- | ------------------------------ |
| 测试函数 | 函数名前缀为 Test      | 测试程序的一些逻辑行为是否正确 |
| 基准函数 | 函数名前缀为 Benchmark | 测试函数的性能                 |
| 示例函数 | 函数名前缀为 Example   | 为文档提供示例文档             |

`go test` 命令会遍历所有的 `*_test.go` 文件中符合上述命名规则的函数，然后生成一个临时的 main 包用于调用相应的测试函数，然后构建并运行、报告测试结果、最后清理测试中生成的临时文件。

### 单元测试
